{"paths": {"/api/subscriptions/": {"get": {"responses": {"200": {"schema": {"type": "array", "items": {"$ref": "#/definitions/AddSubscriptionResponse"}}, "description": "List of subscriptions"}}, "parameters": [], "tags": ["subscribe"], "summary": "List subscriptions", "produces": ["application/json"]}, "post": {"responses": {"201": {"schema": {"$ref": "#/definitions/AddSubscriptionResponse"}, "description": "Subscription created"}, "200": {"schema": {"$ref": "#/definitions/AddSubscriptionResponse"}, "description": "Subscription already exists"}, "403": {"description": "The url domain is not in accept list"}, "404": {"description": "Not found"}, "422": {"description": "Validation error"}}, "parameters": [{"in": "body", "required": false, "name": "body", "schema": {"$ref": "#/definitions/AddSubscription"}}], "tags": ["subscribe"], "summary": "Add a subscription", "produces": ["application/json"]}}, "/api/publications/": {"post": {"responses": {"201": {"schema": {"$ref": "#/definitions/DispatchEvent"}, "description": "Publication created"}, "404": {"description": "Not found"}, "422": {"description": "Validation error"}}, "parameters": [{"in": "body", "required": false, "name": "body", "schema": {"$ref": "#/definitions/AddPublication"}}], "tags": ["publish"], "summary": "Publish an event", "produces": ["application/json"]}}}, "info": {"title": "chatelet API", "version": "v1"}, "swagger": "2.0", "definitions": {"AddSubscriptionResponse": {"type": "object", "properties": {"id": {"type": "integer", "format": "int32"}, "event": {"type": "string"}, "url": {"type": "string", "format": "url"}, "event_filter": {"type": "string"}}, "required": ["event", "url"]}, "AddSubscription": {"type": "object", "properties": {"event": {"type": "string"}, "url": {"type": "string", "format": "url"}, "event_filter": {"type": "string"}}, "required": ["event", "url"]}, "AddPublication": {"type": "object", "properties": {"event": {"type": "string"}, "payload": {"type": "object"}}, "required": ["event", "payload"]}, "DispatchEvent": {"type": "object", "properties": {"subscription": {"type": "integer", "format": "int32"}, "ok": {"type": "boolean"}, "event": {"type": "string"}, "payload": {"type": "object"}}, "required": ["event"]}}}